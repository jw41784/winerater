<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WineRater</title>
    <meta name="description" content="Track and rate your wine experiences">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Raleway:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="manifest" href="site.webmanifest">
    <meta name="theme-color" content="#8B0000">
</head>
<body>
    <div class="app-container">
        <header>
            <div class="logo">
                <i class="fas fa-wine-glass-alt"></i>
                <h1>WineRater</h1>
            </div>
            <nav>
                <ul>
                    <li class="active" data-view="dashboard">Dashboard</li>
                    <li data-view="add-wine">Add Wine</li>
                    <li data-view="my-collection">My Collection</li>
                </ul>
            </nav>
        </header>

        <main>
            <!-- Dashboard View -->
            <section id="dashboard" class="view active">
                <h2>Your Wine Dashboard</h2>
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <h3>Total Wines</h3>
                        <p id="total-wines">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Average Rating</h3>
                        <p id="avg-rating">0.0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Top Variety</h3>
                        <p id="top-variety">None</p>
                    </div>
                </div>
                
                <div class="top-wines">
                    <h3>Your Top Rated Wines</h3>
                    <div id="top-wines-list" class="wine-grid">
                        <!-- Top wines will be dynamically added here -->
                    </div>
                </div>
                
                <div class="recent-wines">
                    <h3>Recently Added</h3>
                    <div id="recent-wines-list" class="wine-grid">
                        <!-- Recent wines will be dynamically added here -->
                    </div>
                </div>
            </section>

            <!-- Add Wine View -->
            <section id="add-wine" class="view">
                <h2>Add New Wine</h2>
                <form id="wine-form">
                    <div class="form-group">
                        <label for="wine-name">Wine Name</label>
                        <input type="text" id="wine-name" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="wine-winery">Winery</label>
                            <input type="text" id="wine-winery" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="wine-vintage">Vintage</label>
                            <input type="number" id="wine-vintage" min="1900" max="2099" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="wine-type">Type</label>
                            <select id="wine-type" required>
                                <option value="">Select Type</option>
                                <option value="Red">Red</option>
                                <option value="White">White</option>
                                <option value="Rosé">Rosé</option>
                                <option value="Sparkling">Sparkling</option>
                                <option value="Dessert">Dessert</option>
                                <option value="Fortified">Fortified</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="wine-varietal">Varietal</label>
                            <input type="text" id="wine-varietal" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="wine-region">Region</label>
                            <input type="text" id="wine-region" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="wine-country">Country</label>
                            <input type="text" id="wine-country" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="wine-price">Price</label>
                        <input type="number" id="wine-price" min="0" step="0.01" required>
                    </div>
                    
                    <div class="rating-section">
                        <h3>Rating</h3>
                        
                        <div class="rating-group">
                            <label>Aroma</label>
                            <div class="star-rating" data-rating-type="aroma">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                        </div>
                        
                        <div class="rating-group">
                            <label>Taste</label>
                            <div class="star-rating" data-rating-type="taste">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                        </div>
                        
                        <div class="rating-group">
                            <label>Body</label>
                            <div class="star-rating" data-rating-type="body">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                        </div>
                        
                        <div class="rating-group">
                            <label>Finish</label>
                            <div class="star-rating" data-rating-type="finish">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                        </div>
                        
                        <div class="rating-group">
                            <label>Value</label>
                            <div class="star-rating" data-rating-type="value">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                        </div>
                        
                        <div class="overall-rating">
                            <label>Overall Rating</label>
                            <span id="overall-rating-display">0.0</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="wine-notes">Tasting Notes</label>
                        <textarea id="wine-notes" rows="4"></textarea>
                    </div>
                    
                    <div class="form-group image-upload">
                        <label for="wine-image">Wine Label Image</label>
                        <input type="file" id="wine-image" accept="image/*">
                        <div id="image-preview" class="hidden"></div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn primary">Save Wine</button>
                        <button type="reset" class="btn secondary">Reset</button>
                    </div>
                </form>
            </section>

            <!-- My Collection View -->
            <section id="my-collection" class="view">
                <h2>My Wine Collection</h2>
                
                <div class="collection-filters">
                    <div class="search">
                        <input type="text" id="collection-search" placeholder="Search wines...">
                    </div>
                    
                    <div class="filters">
                        <select id="type-filter">
                            <option value="all">All Types</option>
                            <option value="Red">Red</option>
                            <option value="White">White</option>
                            <option value="Rosé">Rosé</option>
                            <option value="Sparkling">Sparkling</option>
                            <option value="Dessert">Dessert</option>
                            <option value="Fortified">Fortified</option>
                        </select>
                        
                        <select id="sort-by">
                            <option value="date">Date Added</option>
                            <option value="rating">Rating (High to Low)</option>
                            <option value="name">Name (A-Z)</option>
                            <option value="vintage">Vintage (New to Old)</option>
                            <option value="price">Price (Low to High)</option>
                        </select>
                    </div>
                </div>
                
                <div id="collection-list" class="wine-grid">
                    <!-- Wines will be dynamically added here -->
                </div>
            </section>

            <!-- Wine Details Modal -->
            <div id="wine-details-modal" class="modal">
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                    <div id="wine-details-content">
                        <!-- Wine details will be dynamically added here -->
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2025 WineRater. All rights reserved.</p>
        </footer>
    </div>

    <script src="app.js"></script>
    <script>
        // Register Service Worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed: ', error);
                    });
            });
        }
    </script>
</body>
</html>